# react 踩坑之旅 💢

用的框架 react + antd + vite

## 1. 关于配置

### 运行 🌈

**_package.jsonwen_** 文件里面的是可以配置怎么运行的 但是一般用不到 因为改运行命令的人 很闲。。。
但是一定要知道自己每个下载的插件是干什么用的 我都在上面吃了亏 因为下载完插件后期用不到 就导致打包上线的时候报很多警告 项目在本地跑没什么问题 但是上线之后死活打不开 整个项目全 down 掉

```js
  "scripts": {
        "dev": "vite --host",
        "build": "vite build"
    },
```

### 环境变量 💦

[环境变量](./.env)

[markdown emoji](https://gist.github.com/rxaviers/7360908) 👈

以下是我对 **_.env_** 文件的理解 😝

1. 首先当初我不是很理解 **_.env_** 文件的作用 所以项目一直对配置文件很懵 不是很知道的怎么用这个文件、会对我的项目造成什么影响 怎么有效的使用它

2. 我在我的项目里没有配置代理 是在 env 文件写的变量获取的域名 当然用的框架不同 获取 env 文件的变量的方法不同 换个框架可能就不一样了 具体的需要百度

3. 当我需要我项目的远程不环境的接口时候 那么我可以定义一个变量 获取我定义的变量 + 接口 访问数据，但是这里通知管理环境变量的人来配置我定义的环境变量 到远程的变量

4. 当我本地需要测试远程的环境的时候 我只要变化 env 文件里获取域名的变量就可以了 这样会方便 不需要配置代理的什么的

5. 一定要注意是【 **环境** ❗❗❗】 曾经我没有注意我本地访问的是本地环境 但是接口却是访问的测试环境的接口 这就导致接口 404 报错 一定要注意 环境的统一

📌 总结：环境变量是为了在本地跑不同的环境 但是一定要注意的是环境的统一

### 配置接口拦截器 ❎

[拦截器](./src/http/index.js)

这里完全是现学现卖的 所以我只懂我写的 。。。

1.  引入 axios 这里有 axios.create 创建实例 然后配置的是域名 请求超时方法

2.  配置请求头 token 这个叫请求拦截，请求接口前先执行这个

3.  处理返回的数据/返回拦截 接口返回数据后先执行这个 根据返回的数据定义至于是 status / code 都随你高兴

4.  状态码是什么意思一定要问清楚

### 配置路由 🌵

[路由](./src/router/index.jsx)

[页面](./src/router/routerConfigurationPage.jsx)

这里引用的页面组件所以分了两个页面

1. index.jsx 页面只是引入了 react 和一个页面

2. 写路由的页面就引入了路由相关的组件

    - 先引入页面路径

    - 配置页面跳转

3. BrowserRouter 与 HashRouter 区别： 对于 web 项目 react-router-dom 提供 BrowserRouter 和 HashRouter 路由器， 两者之间的主要区别是它们存储 URL 和与 Web 服务器通信的方式

    - BrowserRouter 使用常规 URL 路径 创建一个像 example.com/some/path 这样真实的 URL

    - HashRouter 将当前位置存储在 URL 的哈希部分中，因此 URL 看起来类似于http://example.com/#/your/page。

### 侧边导航栏 🌴

[导航栏](./src/page/common/page_menu.jsx)

在此之前我是写好了路由跳转的 但是因为页面太多 不得已只能改变方式页面的跳转 所以加了导航栏 当然加上完之后新的问题出现了 我要怎么判断导航栏什么时候出现什么时候不出现

问题 :

-   怎么嵌入页面

-   导航栏什么时候出现

有了这些问题那就一步一步解决吧

1. 首先肯定要写好样式 布局 但是嵌入页面的网上有好多例子 可以百度 嵌入页面 我们知道 react 有一个属性 **_ constructor_** 这个不写的话属于隐藏属性(我自己理解) 这里传入 pops 接下来就可以用了 这里之前我试了好多的方法但是都不行 因为路由配置的不同所以方法也就不同了 当时我很不理解为什么这么写就可以 不理解可以打印出来瞅瞅是什么

```html
<Content style={{ overflow: "auto" }}>
    <div style={{ height: "100vh" }}>{this.props.children}</div>
</Content>
```

2. 至于导航栏的出现与隐藏 这个根据环境变量判断 判断项目的运行环境 这是 node 自带的方法 [node 属性](public\环境变量.png)
